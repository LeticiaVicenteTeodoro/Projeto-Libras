<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Memória</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poetsen+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
</head>
<style>
    .card-inner {
        position: relative;
        width: 170px;
        height: 250px;
        transition: transform 0.6s;
        transform-style: preserve-3d;
        align-items: center;
        justify-content: center;
    }

    #pontuacao-container {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-top: 20px;
    }

    #pontuacao-container span {
        margin: 0 10px;
        font-family: 'Poetsen One', serif;
        font-size: 40px;
    }

    #pontos {
      font-family: 'Poetsen One', serif;
      font-size: 40px;
    }
    
</style>

<body>
    <div class="topo">
        <div class="left">
            <i class="fas fa-arrow-left" id="voltar" onclick="Acessar('../pagina.html')"></i>
            <span id="voltar-text" style="margin-left: 10px;">Voltar</span>
        </div>
        <div class="right">
            <span id="ajuda-text">Como jogar</span>
            <i class="fas fa-question-circle" id="ajuda-icon"></i>
            <span id="info-text" style="margin-left: 10px;">Sobre</span>
            <i class="fas fa-info-circle" id="info-icon"></i>
        </div>
    </div>


    <h1>Jogo da Memória</h1>

    <div id="pontuacao-container">
        <span id="pontos">Pontos:</span>
        <span id="pontuacao">0</span>
    </div>

    <div class="cards">
        <div class="card" onclick="flipCard(this)">
            <div class="card-inner">
                <div class="front" data-name="Alto">
                    <h2>?</h2>
                </div>
                <div class="back">
                    <iframe width="109" height="200" src="../flashcards/videos/alto.mp4" frameborder="0"></iframe>
                </div>
            </div>
        </div>
        <div class="card" onclick="flipCard(this)">
            <div class="card-inner">
                <div class="front" data-name="Alto">
                    <h2>?</h2>
                </div>
                <div class="back">
                    <p>Alto</p>
                </div>
            </div>
        </div>


        <div class="card" onclick="flipCard(this)">
            <div class="card-inner">
                <div class="front" data-name="Baixo">
                    <h2>?</h2>
                </div>
                <div class="back">
                    <iframe width="109" height="200" src="../flashcards/videos/baixo.mp4" frameborder="0"></iframe>
                </div>
            </div>
        </div>
        <div class="card" onclick="flipCard(this)">
            <div class="card-inner">
                <div class="front" data-name="Baixo">
                    <h2>?</h2>
                </div>
                <div class="back">
                    <p>Baixo</p>
                </div>
            </div>
        </div>

        <div class="card" onclick="flipCard(this)">
            <div class="card-inner">
                <div class="front" data-name="Bom_Dia">
                    <h2>?</h2>
                </div>
                <div class="back">
                    <iframe width="109" height="200" src="../flashcards/videos/bomDia.mp4" frameborder="0"></iframe>
                </div>
            </div>
        </div>
        <div class="card" onclick="flipCard(this)">
            <div class="card-inner">
                <div class="front" data-name="Bom_Dia">
                    <h2>?</h2>
                </div>
                <div class="back">
                    <p>Bom Dia</p>
                </div>
            </div>
        </div>

        <div class="card" onclick="flipCard(this)">
            <div class="card-inner">
                <div class="front" data-name="Desculpe">
                    <h2>?</h2>
                </div>
                <div class="back">
                    <iframe width="109" height="200" src="../flashcards/videos/desculpe.mp4" frameborder="0"></iframe>
                </div>
            </div>
        </div>
        <div class="card" onclick="flipCard(this)">
            <div class="card-inner">
                <div class="front" data-name="Desculpe">
                    <h2>?</h2>
                </div>
                <div class="back">
                    <p>Desculpe</p>
                </div>
            </div>
        </div>

        <div class="cards">
            <div class="card" onclick="flipCard(this)">
                <div class="card-inner">
                    <div class="front" data-name="Com_Licença">
                        <h2>?</h2>
                    </div>
                    <div class="back">
                        <iframe width="109" height="200" src="../flashcards/videos/comLicenca.mp4"
                            frameborder="0"></iframe>
                    </div>
                </div>
            </div>
            <div class="card" onclick="flipCard(this)">
                <div class="card-inner">
                    <div class="front" data-name="Com_Licença">
                        <h2>?</h2>
                    </div>
                    <div class="back">
                        <p>Com Licença</p>
                    </div>
                </div>
            </div>


            <div class="card" onclick="flipCard(this)">
                <div class="card-inner">
                    <div class="front" data-name="Adeus">
                        <h2>?</h2>
                    </div>
                    <div class="back">
                        <iframe width="109" height="200" src="../flashcards/videos/adeus.mp4" frameborder="0"></iframe>
                    </div>
                </div>
            </div>
            <div class="card" onclick="flipCard(this)">
                <div class="card-inner">
                    <div class="front" data-name="Adeus">
                        <h2>?</h2>
                    </div>
                    <div class="back">
                        <p>Adeus</p>
                    </div>
                </div>
            </div>

            <div class="card" onclick="flipCard(this)">
                <div class="card-inner">
                    <div class="front" data-name="Mercado">
                        <h2>?</h2>
                    </div>
                    <div class="back">
                        <iframe width="109" height="200" src="../flashcards/videos/mercado.mp4"
                            frameborder="0"></iframe>
                    </div>
                </div>
            </div>
            <div class="card" onclick="flipCard(this)">
                <div class="card-inner">
                    <div class="front" data-name="Mercado">
                        <h2>?</h2>
                    </div>
                    <div class="back">
                        <p>Mercado</p>
                    </div>
                </div>
            </div>

            <div class="card" onclick="flipCard(this)">
                <div class="card-inner">
                    <div class="front" data-name="Boa_Noite">
                        <h2>?</h2>
                    </div>
                    <div class="back">
                        <iframe width="109" height="200" src="../flashcards/videos/boaNoite.mp4"
                            frameborder="0"></iframe>
                    </div>
                </div>
            </div>
            <div class="card" onclick="flipCard(this)">
                <div class="card-inner">
                    <div class="front" data-name="Boa_Noite">
                        <h2>?</h2>
                    </div>
                    <div class="back">
                        <p>Boa Noite</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-ajuda" id="card-ajuda">
            <p>É super fácil aprender a jogar! Siga as instruções:</p>
            <ol>
                <li>Clique em um card e veja qual video ou palavra veio.</li>
                <li>Se veio um video, tente achar qual palavra esta sendo dita no video.</li>
                <li>Se veio uma palavra, tente o video que fale ela.</li>
            </ol>
            <p>Um jeito diferente treinar seus conhecimentos!</p>
            <p>Chame seus amigos e divirta-se!</p>
        </div>

        <div class="card-info" id="card-info">
            <p>Um trabalho feito por alunos da PUC Minas - Poços de Caldas, visando o desenvolvimento de projetos
                educacionais
                em Libras (Língua Brasileira de Sinais), destinados ao ensino para crianças com deficiência auditiva ou
                surdez.
            </p>
            <p>O projeto é composto por vídeos e imagens, oferecendo uma abordagem visual e interativa para facilitar o
                aprendizado da língua.</p>
            <p><a href="https://github.com/LeticiaVicenteTeodoro/Projeto-Libras/blob/main/README.md"
                    style="color: blue;">Clique
                    e saiba mais</a></p>
        </div>

        <script>
            function toggleCardAjuda() {
                var card = document.getElementById('card-ajuda');
                if (card.style.display === 'none' || card.style.display === '') {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            }

            document.getElementById('ajuda-icon').addEventListener('click', toggleCardAjuda);
            document.getElementById('ajuda-text').addEventListener('click', toggleCardAjuda);



            function toggleCardInfo() {
                var card = document.getElementById('card-info');
                if (card.style.display === 'none' || card.style.display === '') {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            }

            document.getElementById('info-icon').addEventListener('click', toggleCardInfo);
            document.getElementById('info-text').addEventListener('click', toggleCardInfo);

            function Acessar(url) {
                window.location.href = url;
            }


            var pontos = 0;
            var primeiroCardVirado = null;

            var cartasViradas = [];

function flipCard(card) {
    if (card.classList.contains('pontuado') || cartasViradas.length >= 2 || cartasViradas.includes(card)) {
        return;
    }

    card.classList.toggle('flipped');
    cartasViradas.push(card);

    if (cartasViradas.length === 2) {
        var card1 = cartasViradas[0].querySelector('.front').dataset.name;
        var card2 = cartasViradas[1].querySelector('.front').dataset.name;

        if (card1 !== card2) {
            setTimeout(function () {
                cartasViradas.forEach(function (card) {
                    card.classList.remove('flipped');
                });
                cartasViradas = [];
            }, 1000);
        } else {
            pontos++;
            document.getElementById('pontuacao').innerText = pontos;
            cartasViradas.forEach(function (card) {
                card.classList.add('pontuado');
            });
            var totalCards = document.querySelectorAll('.card').length;
            var totalPontuados = document.querySelectorAll('.pontuado').length;
            if (totalPontuados === totalCards) {
                setTimeout(function () {
                    document.querySelectorAll('.card').forEach(function (card) {
                        card.classList.remove('flipped');
                        card.classList.remove('pontuado');
                    });
                    document.getElementById('pontuacao').innerText = 0;
                    pontos = 0;
                    embaralharCards();
                }, 2000);
            }
            cartasViradas = [];
        }
    }
}

            function embaralharCards() {
                var posicoesOriginais = [];

                var cardsDivs = document.querySelectorAll('.card');

                cardsDivs.forEach(function (cardDiv, index) {
                    posicoesOriginais.push(index);
                });

                posicoesOriginais.sort(function () {
                    return 0.5 - Math.random();
                });

                var cardsContainer = document.querySelector('.cards');

                posicoesOriginais.forEach(function (posicao) {
                    cardsContainer.appendChild(cardsDivs[posicao]);
                });
            }

            window.addEventListener('load', embaralharCards);

            var cards = document.querySelectorAll('.card');
            cards.forEach(function (card) {
                card.addEventListener('click', function () {
                    var iframe = this.querySelector('iframe');
                    if (iframe) {
                        var src = iframe.src;
                        iframe.src = src;
                    }
                });
            });
        </script>
</body>

</html>